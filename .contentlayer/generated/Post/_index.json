[
  {
    "title": "Creating blur placeholder images using NextJS and Plaiceholder",
    "slug": "creating-blur-placeholder-images-using-nextjs-and-plaiceholder",
    "date": "2022-06-28",
    "summary": "How to create blur placeholder in Next.Js",
    "image": "/showcase/original/sidebar-mui.png",
    "link": "https://github.com/arrofirezasatria/rofireza.com/blob/main/posts/creating-blur-placeholder-images-using-NextJS-and-Plaiceholder.mdx",
    "body": {
      "raw": "\r\nImage load without placeholder makes like something an error on the website. We want the user to know that image is still fetching on the server and provide some feedback as soon as possible when the page is not fully loaded. Some websites, such as Unsplash, have blur image placeholders, which adds some aesthetic to the website.\r\n\r\n## 1. Install Plaiceholder\r\n\r\nI assume that you have already created a new next app using `npx create next-app` then install plaiceholder dependecy:\r\n\r\n```javascript\r\nnpm i plaiceholder @plaiceholder/next sharp\r\n```\r\n\r\n## 2. Setup the Image assets\r\n\r\nYou can get the image assets from local or remote. In this tutorial, I use data I get from [Pixabay](https://pixabay.com/api/docs/) API to simulate the network download process.\r\n\r\n## 3. Config Next Js\r\n\r\nThis config ensures that all Plaiceholder functions start in the main thread and be able to run the function on the _getStaticProps_ function. Don't forget to define of image provider domains that you want to be served from the Next.js Image Optimization API.\r\n\r\n```javascript\r\nconst { withPlaiceholder } = require('@plaiceholder/next')\r\n\r\nmodule.exports = withPlaiceholder({\r\n    images: {\r\n        domains: ['pixabay.com'],\r\n    },\r\n})\r\n```\r\n\r\n## 3. Generates the Static HTML pages with _getStaticProps_\r\n\r\nThe code that wrote inside getStaticProps never runs on the browser. So we can run node js environment function like getPlaiceHolder as it runs on the server. We can also access our database using ORMs like Prisma inside this function.\r\n\r\n```javascript\r\nexport async function getStaticProps() {\r\n    const { hits } = await axios\r\n        .get('https://pixabay.com/api/', {\r\n            params: {\r\n                key: 'your_api_key',\r\n                q: 'cat',\r\n                image_type: 'photo',\r\n            },\r\n        })\r\n        .then((res) => {\r\n            return res.data\r\n        })\r\n\r\n    const images_data = await Promise.all(\r\n        hits.slice(0, 6).map(async (data, index) => {\r\n            const { base64, img } = await getPlaiceholder(data.largeImageURL)\r\n            return {\r\n                ...img,\r\n                base64: base64,\r\n            }\r\n        })\r\n    ).then((value) => value)\r\n\r\n    return {\r\n        props: {\r\n            images_data,\r\n        },\r\n    }\r\n}\r\n```\r\n\r\n## 4. Render to the Page Component\r\n\r\nPass the `props` property with the data that you want to provide to the page component.\r\n\r\n```javascript\r\nexport default function NextBlurImage({ images_data }) {\r\n    //The rest of the code..\r\n    {\r\n        images_data.map((data) => {\r\n            return (\r\n                <Image\r\n                    src={data.src}\r\n                    layout=\"fill\"\r\n                    alt=\"\"\r\n                    blurDataURL={data.base64}\r\n                    placeholder=\"blur\"\r\n                />\r\n            )\r\n        })\r\n    }\r\n    //The rest of the code..\r\n}\r\n```\r\n\r\n## 5. Result\r\n\r\nAs you can see the result that the blurred image will appear before the original image. This also applies lazy loading, which loads the image when the user is in the viewport.\r\n\r\n<ImageMDX\r\n    src=\"https://i.giphy.com/media/5QS6KC8SoaQjMTtgrP/giphy.gif\"\r\n    width={720}\r\n    height={405}\r\n/>\r\n",
      "code": "var Component=(()=>{var d=Object.create;var t=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var k=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),g=(a,e)=>{for(var s in e)t(a,s,{get:e[s],enumerable:!0})},o=(a,e,s,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of m(e))!N.call(a,c)&&c!==s&&t(a,c,{get:()=>e[c],enumerable:!(l=h(e,c))||l.enumerable});return a};var y=(a,e,s)=>(s=a!=null?d(u(a)):{},o(e||!a||!a.__esModule?t(s,\"default\",{value:a,enumerable:!0}):s,a)),f=a=>o(t({},\"__esModule\",{value:!0}),a);var i=k((_,r)=>{r.exports=_jsx_runtime});var v={};g(v,{default:()=>x,frontmatter:()=>w});var n=y(i()),w={title:\"Creating blur placeholder images using NextJS and Plaiceholder\",slug:\"creating-blur-placeholder-images-using-nextjs-and-plaiceholder\",date:\"2022-06-28\",summary:\"How to create blur placeholder in Next.Js\",image:\"/showcase/original/sidebar-mui.png\",link:\"https://github.com/arrofirezasatria/rofireza.com/blob/main/posts/creating-blur-placeholder-images-using-NextJS-and-Plaiceholder.mdx\"};function p(a){let e=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",code:\"code\",pre:\"pre\",em:\"em\"},a.components),{ImageMDX:s}=e;return s||j(\"ImageMDX\",!0,\"102:1-106:3\"),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"Image load without placeholder makes like something an error on the website. We want the user to know that image is still fetching on the server and provide some feedback as soon as possible when the page is not fully loaded. Some websites, such as Unsplash, have blur image placeholders, which adds some aesthetic to the website.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"1-install-plaiceholder\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#1-install-plaiceholder\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"1. Install Plaiceholder\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"I assume that you have already created a new next app using \",(0,n.jsx)(e.code,{children:\"npx create next-app\"}),\" then install plaiceholder dependecy:\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsx)(e.code,{className:\"language-javascript code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"npm i plaiceholder @plaiceholder\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),`next sharp\n`]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"2-setup-the-image-assets\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#2-setup-the-image-assets\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"2. Setup the Image assets\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"You can get the image assets from local or remote. In this tutorial, I use data I get from \",(0,n.jsx)(e.a,{href:\"https://pixabay.com/api/docs/\",children:\"Pixabay\"}),\" API to simulate the network download process.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"3-config-next-js\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#3-config-next-js\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"3. Config Next Js\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"This config ensures that all Plaiceholder functions start in the main thread and be able to run the function on the \",(0,n.jsx)(e.em,{children:\"getStaticProps\"}),\" function. Don't forget to define of image provider domains that you want to be served from the Next.js Image Optimization API.\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" withPlaiceholder \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'@plaiceholder/next'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"module\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"exports\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"withPlaiceholder\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"images\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"domains\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'pixabay.com'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"3-generates-the-static-html-pages-with-getstaticprops\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#3-generates-the-static-html-pages-with-getstaticprops\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"3. Generates the Static HTML pages with \",(0,n.jsx)(e.em,{children:\"getStaticProps\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"The code that wrote inside getStaticProps never runs on the browser. So we can run node js environment function like getPlaiceHolder as it runs on the server. We can also access our database using ORMs like Prisma inside this function.\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"getStaticProps\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" hits \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),` axios\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"get\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'https://pixabay.com/api/'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"params\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"key\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'your_api_key'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"q\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'cat'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"image_type\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'photo'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"then\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"res\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" res\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"data\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" images_data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token known-class-name class-name\",children:\"Promise\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        hits\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"slice\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"6\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" index\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" base64\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" img \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"getPlaiceholder\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"largeImageURL\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"img\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"base64\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" base64\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"then\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"value\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"props\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            images_data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"4-render-to-the-page-component\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#4-render-to-the-page-component\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"4. Render to the Page Component\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Pass the \",(0,n.jsx)(e.code,{children:\"props\"}),\" property with the data that you want to provide to the page component.\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"NextBlurImage\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" images_data \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//The rest of the code..\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        images_data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"data\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Image\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                    src\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"src\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                    layout\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"fill\"'}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                    alt\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"\"'}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                    blurDataURL\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"base64\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                    placeholder\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"blur\"'}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//The rest of the code..\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"5-result\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#5-result\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"5. Result\"]}),`\n`,(0,n.jsx)(e.p,{children:\"As you can see the result that the blurred image will appear before the original image. This also applies lazy loading, which loads the image when the user is in the viewport.\"}),`\n`,(0,n.jsx)(s,{src:\"https://i.giphy.com/media/5QS6KC8SoaQjMTtgrP/giphy.gif\",width:720,height:405})]})}function b(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,Object.assign({},a,{children:(0,n.jsx)(p,a)})):p(a)}var x=b;function j(a,e,s){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(s?\"\\nIt\\u2019s referenced in your code at `\"+s+\"` in `D:\\\\BismillahProgrammer\\\\rofireza.com\\\\posts\\\\_mdx_bundler_entry_point-368b8f66-a77a-4173-bf27-6ad414c648bc.mdx`\":\"\"))}return f(v);})();\n;return Component;"
    },
    "_id": "creating-blur-placeholder-images-using-NextJS-and-Plaiceholder.mdx",
    "_raw": {
      "sourceFilePath": "creating-blur-placeholder-images-using-NextJS-and-Plaiceholder.mdx",
      "sourceFileName": "creating-blur-placeholder-images-using-NextJS-and-Plaiceholder.mdx",
      "sourceFileDir": ".",
      "contentType": "mdx",
      "flattenedPath": "creating-blur-placeholder-images-using-NextJS-and-Plaiceholder"
    },
    "type": "Post",
    "url": "/posts/creating-blur-placeholder-images-using-NextJS-and-Plaiceholder",
    "reading_time": {
      "text": "3 min read",
      "minutes": 2.01,
      "time": 120600,
      "words": 402
    },
    "time_ago": "2 months ago"
  },
  {
    "title": "Email Marketing with Maizzle and Tailwind CSS",
    "slug": "email-marketing-with-maizzle-and-tailwind-css",
    "date": "2022-07-17",
    "summary": "Create powerful email marketing with Maizzle",
    "image": "/showcase/original/sidebar-mui.png",
    "link": "https://github.com/arrofirezasatria/rofireza.com/blob/main/posts/email-marketing-with-maizzle-and-tailwindcss.mdx",
    "body": {
      "raw": "\r\nEmail marketing is a powerful marketing channel that uses email to promote your business products or services. Email marketing is a form of marketing that can make the customers on your email list aware of new products, discounts, and other services.\r\n\r\nHere I will teach you how to create an HTML email with Maizzle and TailwindCSS.\r\n\r\n## 1. Create New Project\r\n\r\nTo create a new project it's quite easy, you can look at the [Maizzle Documentation](https://maizzle.com/docs/installation) like the code below :\r\n\r\n```javascript\r\nnpx degit maizzle/maizzle \"your-project-name\"\r\n```\r\n\r\nthen `cd \"your-project-name\"` and `npm install`\r\n\r\n## 2. Edit your Email using Tailwind CSS\r\n\r\nYou can start a development local server that watches in localhost with :\r\n\r\n```javascript\r\nnpm run dev\r\n```\r\n\r\nMaizzle already has a built in template that you can use, you can use it as your starter template.\r\n\r\n<ImageMDX\r\n    alt=\"maizzle localhost:3000\"\r\n    src=\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0c83p0m69uk6ej731a4f.JPG\"\r\n    width={688}\r\n    height={206}\r\n/>\r\n\r\n#### Notes:\r\n\r\nHTML email structure use `table`, `tr` and `td` as layout. The idea is same as CSS Grid, every column behave like Grid which you can adjust the width using Tailwind `class=\"w-1/2 sm:w-full\"`\r\n\r\n## 3. Link image with imagekit.io\r\n\r\nWhen using Email HTML often you need to put an image on the email. Since Email HTML doesn't support image assets, you can get the image by hosting your image online. Here I use [imagekit.io]() to host my image. Simply upload and get the URL of the image to put in the src image tag then you are done. Don't forget to reduce the size since it opened between the length of an email.\r\n\r\n## 4. Production\r\n\r\nBuild production ready to send HTML emails that have inlined CSS and many other optimizations, by running the following command:\r\n\r\n```javascript\r\nnpm run build\r\n```\r\n\r\nYou can view the result of build production in **_Build Production folder_**. Then copy and paste the HTML code to be ready to send to the email receiver.\r\n\r\n<ImageMDX\r\n    alt=\"maizzle build folder\"\r\n    src=\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/4ipbww82fxbg72nt6al4.JPG\"\r\n    width={254}\r\n    height={89}\r\n/>\r\n\r\n## 4. Send your first html email.\r\n\r\nSend your first HTML Email with [Insert HTML by Designmodo](https://chrome.google.com/webstore/detail/insert-html-by-designmodo/bcflbfdlpegakpncdgmejelcolhmfkjh) extension google chrome.\r\n\r\n<ImageMDX\r\n    alt=\"\"\r\n    src=\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fb3gi06e4h4lt1ae7e3v.JPG\"\r\n    width={824}\r\n    height={94}\r\n/>\r\n",
      "code": "var Component=(()=>{var h=Object.create;var o=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var f=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),w=(i,e)=>{for(var n in e)o(i,n,{get:e[n],enumerable:!0})},s=(i,e,n,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of u(e))!g.call(i,t)&&t!==n&&o(i,t,{get:()=>e[t],enumerable:!(r=m(e,t))||r.enumerable});return i};var y=(i,e,n)=>(n=i!=null?h(p(i)):{},s(e||!i||!i.__esModule?o(n,\"default\",{value:i,enumerable:!0}):n,i)),k=i=>s(o({},\"__esModule\",{value:!0}),i);var c=f((x,l)=>{l.exports=_jsx_runtime});var v={};w(v,{default:()=>N,frontmatter:()=>z});var a=y(c()),z={title:\"Email Marketing with Maizzle and Tailwind CSS\",slug:\"email-marketing-with-maizzle-and-tailwind-css\",date:\"2022-07-17\",summary:\"Create powerful email marketing with Maizzle\",image:\"/showcase/original/sidebar-mui.png\",link:\"https://github.com/arrofirezasatria/rofireza.com/blob/main/posts/email-marketing-with-maizzle-and-tailwindcss.mdx\"};function d(i){let e=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",pre:\"pre\",code:\"code\",h4:\"h4\",strong:\"strong\",em:\"em\"},i.components),{ImageMDX:n}=e;return n||j(\"ImageMDX\",!0,\"34:1-39:3\"),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.p,{children:\"Email marketing is a powerful marketing channel that uses email to promote your business products or services. Email marketing is a form of marketing that can make the customers on your email list aware of new products, discounts, and other services.\"}),`\n`,(0,a.jsx)(e.p,{children:\"Here I will teach you how to create an HTML email with Maizzle and TailwindCSS.\"}),`\n`,(0,a.jsxs)(e.h2,{id:\"1-create-new-project\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#1-create-new-project\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"1. Create New Project\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"To create a new project it's quite easy, you can look at the \",(0,a.jsx)(e.a,{href:\"https://maizzle.com/docs/installation\",children:\"Maizzle Documentation\"}),\" like the code below :\"]}),`\n`,(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsx)(e.code,{className:\"language-javascript code-highlight\",children:(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"npx degit maizzle\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"maizzle \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"your-project-name\"'}),`\n`]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"then \",(0,a.jsx)(e.code,{children:'cd \"your-project-name\"'}),\" and \",(0,a.jsx)(e.code,{children:\"npm install\"})]}),`\n`,(0,a.jsxs)(e.h2,{id:\"2-edit-your-email-using-tailwind-css\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#2-edit-your-email-using-tailwind-css\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"2. Edit your Email using Tailwind CSS\"]}),`\n`,(0,a.jsx)(e.p,{children:\"You can start a development local server that watches in localhost with :\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsx)(e.code,{className:\"language-javascript code-highlight\",children:(0,a.jsx)(e.span,{className:\"code-line\",children:`npm run dev\n`})})}),`\n`,(0,a.jsx)(e.p,{children:\"Maizzle already has a built in template that you can use, you can use it as your starter template.\"}),`\n`,(0,a.jsx)(n,{alt:\"maizzle localhost:3000\",src:\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0c83p0m69uk6ej731a4f.JPG\",width:688,height:206}),`\n`,(0,a.jsxs)(e.h4,{id:\"notes\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#notes\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Notes:\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"HTML email structure use \",(0,a.jsx)(e.code,{children:\"table\"}),\", \",(0,a.jsx)(e.code,{children:\"tr\"}),\" and \",(0,a.jsx)(e.code,{children:\"td\"}),\" as layout. The idea is same as CSS Grid, every column behave like Grid which you can adjust the width using Tailwind \",(0,a.jsx)(e.code,{children:'class=\"w-1/2 sm:w-full\"'})]}),`\n`,(0,a.jsxs)(e.h2,{id:\"3-link-image-with-imagekitio\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#3-link-image-with-imagekitio\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"3. Link image with imagekit.io\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"When using Email HTML often you need to put an image on the email. Since Email HTML doesn't support image assets, you can get the image by hosting your image online. Here I use \",(0,a.jsx)(e.a,{href:\"\",children:\"imagekit.io\"}),\" to host my image. Simply upload and get the URL of the image to put in the src image tag then you are done. Don't forget to reduce the size since it opened between the length of an email.\"]}),`\n`,(0,a.jsxs)(e.h2,{id:\"4-production\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#4-production\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"4. Production\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Build production ready to send HTML emails that have inlined CSS and many other optimizations, by running the following command:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsx)(e.code,{className:\"language-javascript code-highlight\",children:(0,a.jsx)(e.span,{className:\"code-line\",children:`npm run build\n`})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"You can view the result of build production in \",(0,a.jsx)(e.strong,{children:(0,a.jsx)(e.em,{children:\"Build Production folder\"})}),\". Then copy and paste the HTML code to be ready to send to the email receiver.\"]}),`\n`,(0,a.jsx)(n,{alt:\"maizzle build folder\",src:\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/4ipbww82fxbg72nt6al4.JPG\",width:254,height:89}),`\n`,(0,a.jsxs)(e.h2,{id:\"4-send-your-first-html-email\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#4-send-your-first-html-email\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"4. Send your first html email.\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"Send your first HTML Email with \",(0,a.jsx)(e.a,{href:\"https://chrome.google.com/webstore/detail/insert-html-by-designmodo/bcflbfdlpegakpncdgmejelcolhmfkjh\",children:\"Insert HTML by Designmodo\"}),\" extension google chrome.\"]}),`\n`,(0,a.jsx)(n,{alt:\"\",src:\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fb3gi06e4h4lt1ae7e3v.JPG\",width:824,height:94})]})}function b(i={}){let{wrapper:e}=i.components||{};return e?(0,a.jsx)(e,Object.assign({},i,{children:(0,a.jsx)(d,i)})):d(i)}var N=b;function j(i,e,n){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+i+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(n?\"\\nIt\\u2019s referenced in your code at `\"+n+\"` in `D:\\\\BismillahProgrammer\\\\rofireza.com\\\\posts\\\\_mdx_bundler_entry_point-387c9f63-f1cb-4b93-8908-45104101750f.mdx`\":\"\"))}return k(v);})();\n;return Component;"
    },
    "_id": "email-marketing-with-maizzle-and-tailwindcss.mdx",
    "_raw": {
      "sourceFilePath": "email-marketing-with-maizzle-and-tailwindcss.mdx",
      "sourceFileName": "email-marketing-with-maizzle-and-tailwindcss.mdx",
      "sourceFileDir": ".",
      "contentType": "mdx",
      "flattenedPath": "email-marketing-with-maizzle-and-tailwindcss"
    },
    "type": "Post",
    "url": "/posts/email-marketing-with-maizzle-and-tailwindcss",
    "reading_time": {
      "text": "2 min read",
      "minutes": 1.745,
      "time": 104700,
      "words": 349
    },
    "time_ago": "2 months ago"
  },
  {
    "title": "4 Tips Improving Large Contentful Paint in NextJS",
    "slug": "4-tips-improving-large-contentful-paint-in-nextjs",
    "date": "2022-07-17",
    "summary": "Fastest your LCP webpage with this strategy",
    "image": "/showcase/original/sidebar-mui.png",
    "link": "",
    "body": {
      "raw": "\r\n[Largest Contentful Paint](https://web.dev/lcp/) or LCP is the time during the page load process when the largest page element is rendered within viewport. LCP is one of three charateristic\r\nmeasure of core web vital Google uses as part of its search rankings, along with\r\n[Comulative Layout Shift](https://web.dev/cls/)\r\nand\r\n[First Input Delay](https://web.dev/fid/).\r\n\r\n<ImageMDX\r\n    height={324}\r\n    width={745}\r\n    src=\"https://ik.imagekit.io/rofireza/Blog/lCP_rofireza_ExtOAUpvR.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1662420126178\"\r\n    alt=\"LCP Image Simulation\"\r\n/>\r\n\r\n### 1. Use Image Component\r\n\r\n[Next JS Image Component](https://nextjs.org/docs/basic-features/image-optimization) is powerful image optimization which able\r\nto improve the core web vitals and SEO performance. Some technique usually is hard to manually setting like scrset and blur placeholder\r\nwhich is easy to setup in Next JS.\r\n\r\nSome of the optimizations from the based on [Doc](https://nextjs.org/docs/basic-features/image-optimization) is :\r\n\r\n-   **Improved Performance:** Always serve correctly sized image for each device, using modern image formats\r\n\r\n    <ImageMDX\r\n        height={200}\r\n        width={460}\r\n        src=\"https://ik.imagekit.io/rofireza/Blog/scrset_nextjs_devmode_wisxCALbq.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1663095529596\"\r\n        alt=\"LCP Image Simulation\"\r\n    />\r\n\r\n    As you can see Next JS generate image of each screen size and generate when build time, make sure url image source available\r\n    through `getStaticProps` or `getServerSideProps`.\r\n\r\n-   **Visual Stability:** Prevent [Cumulative Layout Shift](https://nextjs.org/learn/seo/web-performance/cls) automatically\r\n-   **Faster Page Loads:** Images are only loaded when they enter the viewport, with optional blur-up placeholders\r\n-   **Asset Flexibility:** On-demand image resizing, even for images stored on remote servers\r\n\r\n### 2. Preload LCP Images\r\n\r\nPreload the LCP image helps it load faster because the browser will just process it normally as it's encountered in the markup.\r\nTo achive this in Next js you can set Image component [priority='true'](https://nextjs.org/docs/api-reference/next/image#priority).\r\n\r\n```javascript\r\n<Image\r\n    priority={true}\r\n    src=\"me.png\"\r\n    alt=\"Picture of the author\"\r\n    width={500}\r\n    height={500}\r\n/>\r\n```\r\n\r\nWhen true, the image will be considered high priority and preload. Lazy loading is automatically disabled for images using priority. Its also posible to priority more than one image\r\n\r\n### 2. Use CDN\r\n\r\nIf you are using hosting platfrom like vercel its include in build in CDN, But if you re hosting from vps you need to setup for yourself\r\n\r\n### 3. Avoid using Video\r\n\r\n    If you put a video on above fold it will download the resource until its done,  usually the file size is large. to overcome this you need to make\r\n    image video placeholder and then prevent video to load before some condition.\r\n\r\n### 4. Use Image Blur Placeholder\r\n\r\n    Blur Placeholder is use while the image is loading. Next JS Build in Image placeholder when you use from static image.\r\n    For dynamic images, you must provide the blurDataURL property. Solutions such as Plaiceholder can help with base64 generation.\r\n    You can also learn how to implement from this post [Post](https://rofireza.com/posts/creating-blur-placeholder-images-using-NextJS-and-Plaiceholder)\r\n\r\n    ```javascript\r\n    <Image\r\n        src=\"me.png\"\r\n        alt=\"Picture of the author\"\r\n        width={500}\r\n        height={500}\r\n        placeholder=\"blur\"\r\n        blurDataURL={base64BlurImage}\r\n    />\r\n    ```\r\n\r\n    any blurry preview, e.g. a blurhash or a 1:32 resolution image, or a WebP2 triangular preview, etc. This phase is useful to make it clear that an image is going to appear here, to avoid layout jank, and to prevent flash.\r\n\r\nsizing\r\n",
      "code": "var Component=(()=>{var h=Object.create;var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var N=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),f=(a,e)=>{for(var i in e)r(a,i,{get:e[i],enumerable:!0})},t=(a,e,i,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of m(e))!g.call(a,s)&&s!==i&&r(a,s,{get:()=>e[s],enumerable:!(o=p(e,s))||o.enumerable});return a};var k=(a,e,i)=>(i=a!=null?h(u(a)):{},t(e||!a||!a.__esModule?r(i,\"default\",{value:a,enumerable:!0}):i,a)),b=a=>t(r({},\"__esModule\",{value:!0}),a);var c=N((I,l)=>{l.exports=_jsx_runtime});var P={};f(P,{default:()=>w,frontmatter:()=>v});var n=k(c()),v={title:\"4 Tips Improving Large Contentful Paint in NextJS\",slug:\"4-tips-improving-large-contentful-paint-in-nextjs\",date:\"2022-07-17\",summary:\"Fastest your LCP webpage with this strategy\",image:\"/showcase/original/sidebar-mui.png\",link:\"\"};function d(a){let e=Object.assign({p:\"p\",a:\"a\",h3:\"h3\",span:\"span\",ul:\"ul\",li:\"li\",strong:\"strong\",code:\"code\",pre:\"pre\"},a.components),{ImageMDX:i}=e;return i||x(\"ImageMDX\",!0,\"16:1-21:3\"),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://web.dev/lcp/\",children:\"Largest Contentful Paint\"}),` or LCP is the time during the page load process when the largest page element is rendered within viewport. LCP is one of three charateristic\\r\nmeasure of core web vital Google uses as part of its search rankings, along with\\r\n`,(0,n.jsx)(e.a,{href:\"https://web.dev/cls/\",children:\"Comulative Layout Shift\"}),`\\r\nand\\r\n`,(0,n.jsx)(e.a,{href:\"https://web.dev/fid/\",children:\"First Input Delay\"}),\".\"]}),`\n`,(0,n.jsx)(i,{height:324,width:745,src:\"https://ik.imagekit.io/rofireza/Blog/lCP_rofireza_ExtOAUpvR.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1662420126178\",alt:\"LCP Image Simulation\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"1-use-image-component\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#1-use-image-component\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"1. Use Image Component\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/basic-features/image-optimization\",children:\"Next JS Image Component\"}),` is powerful image optimization which able\\r\nto improve the core web vitals and SEO performance. Some technique usually is hard to manually setting like scrset and blur placeholder\\r\nwhich is easy to setup in Next JS.`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Some of the optimizations from the based on \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/basic-features/image-optimization\",children:\"Doc\"}),\" is :\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Improved Performance:\"}),\" Always serve correctly sized image for each device, using modern image formats\"]}),`\n`,(0,n.jsx)(i,{height:200,width:460,src:\"https://ik.imagekit.io/rofireza/Blog/scrset_nextjs_devmode_wisxCALbq.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1663095529596\",alt:\"LCP Image Simulation\"}),`\n`,(0,n.jsxs)(e.p,{children:[`As you can see Next JS generate image of each screen size and generate when build time, make sure url image source available\\r\nthrough `,(0,n.jsx)(e.code,{children:\"getStaticProps\"}),\" or \",(0,n.jsx)(e.code,{children:\"getServerSideProps\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Visual Stability:\"}),\" Prevent \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/learn/seo/web-performance/cls\",children:\"Cumulative Layout Shift\"}),\" automatically\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Faster Page Loads:\"}),\" Images are only loaded when they enter the viewport, with optional blur-up placeholders\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Asset Flexibility:\"}),\" On-demand image resizing, even for images stored on remote servers\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"2-preload-lcp-images\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#2-preload-lcp-images\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"2. Preload LCP Images\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`Preload the LCP image helps it load faster because the browser will just process it normally as it's encountered in the markup.\\r\nTo achive this in Next js you can set Image component `,(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/api-reference/next/image#priority\",children:\"priority='true'\"}),\".\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Image\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    priority\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    src\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"me.png\"'}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    alt\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Picture of the author\"'}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    width\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    height\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"When true, the image will be considered high priority and preload. Lazy loading is automatically disabled for images using priority. Its also posible to priority more than one image\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"2-use-cdn\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#2-use-cdn\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"2. Use CDN\"]}),`\n`,(0,n.jsx)(e.p,{children:\"If you are using hosting platfrom like vercel its include in build in CDN, But if you re hosting from vps you need to setup for yourself\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"3-avoid-using-video\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#3-avoid-using-video\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"3. Avoid using Video\"]}),`\n`,(0,n.jsx)(e.p,{children:`If you put a video on above fold it will download the resource until its done,  usually the file size is large. to overcome this you need to make\\r\nimage video placeholder and then prevent video to load before some condition.`}),`\n`,(0,n.jsxs)(e.h3,{id:\"4-use-image-blur-placeholder\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#4-use-image-blur-placeholder\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"4. Use Image Blur Placeholder\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`Blur Placeholder is use while the image is loading. Next JS Build in Image placeholder when you use from static image.\\r\nFor dynamic images, you must provide the blurDataURL property. Solutions such as Plaiceholder can help with base64 generation.\\r\nYou can also learn how to implement from this post `,(0,n.jsx)(e.a,{href:\"https://rofireza.com/posts/creating-blur-placeholder-images-using-NextJS-and-Plaiceholder\",children:\"Post\"})]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Image\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    src\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"me.png\"'}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    alt\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Picture of the author\"'}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    width\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    height\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    placeholder\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"blur\"'}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    blurDataURL\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"base64BlurImage\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"any blurry preview, e.g. a blurhash or a 1:32 resolution image, or a WebP2 triangular preview, etc. This phase is useful to make it clear that an image is going to appear here, to avoid layout jank, and to prevent flash.\"}),`\n`,(0,n.jsx)(e.p,{children:\"sizing\"})]})}function y(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,Object.assign({},a,{children:(0,n.jsx)(d,a)})):d(a)}var w=y;function x(a,e,i){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(i?\"\\nIt\\u2019s referenced in your code at `\"+i+\"` in `D:\\\\BismillahProgrammer\\\\rofireza.com\\\\posts\\\\_mdx_bundler_entry_point-136dd284-7579-4199-83f3-336dee327209.mdx`\":\"\"))}return b(P);})();\n;return Component;"
    },
    "_id": "improving-large-contentful-paint-in-nextjs.mdx",
    "_raw": {
      "sourceFilePath": "improving-large-contentful-paint-in-nextjs.mdx",
      "sourceFileName": "improving-large-contentful-paint-in-nextjs.mdx",
      "sourceFileDir": ".",
      "contentType": "mdx",
      "flattenedPath": "improving-large-contentful-paint-in-nextjs"
    },
    "type": "Post",
    "url": "/posts/improving-large-contentful-paint-in-nextjs",
    "reading_time": {
      "text": "3 min read",
      "minutes": 2.4,
      "time": 144000,
      "words": 480
    },
    "time_ago": "2 months ago"
  }
]